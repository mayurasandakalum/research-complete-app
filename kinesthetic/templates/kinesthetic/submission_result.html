{% extends 'base.html' %}
{% block title %}Let's Quiz | Submission Result{% endblock %}
{% block content %}
<div class="container">
  <div class="jumbotron my-4">
    <h3 class="text-info">{{ attempted_question.question.html|safe }}</h3>
    <h4 class="text-secondary">{{ attempted_question.sub_question.text }}</h4>

    <div class="row">
      <div class="col-md-6">
        <p><strong>‡∂î‡∂∂‡∑ö ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª: </strong>{{ attempted_question.selected_choice.html|safe }}</p>
        <p><strong>‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª: </strong>{{ attempted_question.sub_question.correct_answer }}</p>

        {% if attempted_question.is_correct %}
        <h4 class="text-success">
          <i class="fa fa-check-circle"></i> ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í!! ‡∑É‡∑î‡∂∂ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! üôå

          <!-- Add time tolerance message if detected value differs from expected but answer is correct -->
          {% if attempted_question.result_data.detected_value != attempted_question.result_data.expected_value %}
          {% if ':' in attempted_question.result_data.detected_value or ':' in
          attempted_question.result_data.expected_value %}
          <div class="time-tolerance">
            <small>(¬±3 ‡∂∏‡∑í‡∂±‡∑í‡∂≠‡∑ä‡∂≠‡∑î ‡∂â‡∑Ä‡∑É‡∑ì‡∂∏ ‡∂≠‡∑î‡∑Ö ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂≠ ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫)</small>
          </div>
          {% endif %}
          {% endif %}
        </h4>
        {% else %}
        <h4 class="text-danger">
          <i class="fa fa-times-circle"></i> ‡∂î‡∂∂‡∑ö ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í üòü
        </h4>
        {% endif %}
      </div>

      <div class="col-md-6">
        {% if attempted_question.images.annotated_image %}
        <div class="card">
          <div class="card-header bg-primary text-white">
            <i class="fa fa-image"></i> ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø ‡∂¥‡∑í‡∂Ç‡∂≠‡∑ñ‡∂ª‡∂∫
          </div>
          <div class="card-body text-center">
            <img src="{{ attempted_question.images.annotated_image }}" alt="Analyzed abacus" class="img-fluid"
              style="max-height: 300px;">
          </div>
          <div class="card-footer bg-light">
            <small class="text-muted">
              <i class="fa fa-info-circle"></i>
              ‡∑Ñ‡∂≥‡∑î‡∂±‡∑è‡∂ú‡∂≠‡∑ä ‡∂Ö‡∂ú‡∂∫: {{ attempted_question.result_data.detected_value }},
              ‡∂Ö‡∂¥‡∑ö‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠ ‡∂Ö‡∂ú‡∂∫: {{ attempted_question.result_data.expected_value }}
            </small>
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="mt-4">
      <a class="btn btn-info" href="{{ url_for('kinesthetic.play') }}">
        <i class="fa fa-arrow-right"></i> ‡∂∏‡∑ì‡∑Ö‡∂ü ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂±‡∑ä‡∂±
      </a>
    </div>
  </div>
</div>
{% endblock %}